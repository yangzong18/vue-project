<template>
  <div>
    <nv-head page-type="‰∏ªÈ¢ò" :show-menu="showMenu" :need-add="true" :fix-head="true"></nv-head>
    <div id="page" :class="{'show-menu':showMenu}" v-if="topic.title">
      <div class="no-data" v-if="noData">
        <i class="iconfont icon-empty">&#xe60a;</i>
        ËØ•ËØùÈ¢ò‰∏çÂ≠òÂú®!
      </div>
      <div class="yes-data" v-else>
        <h2 class="topic-title" v-text="topic.title"></h2>
        <section class="author-info">
          <img :src="topic.author.avatar_url" class="avatar" />
          <div class="col">
            <span v-text="topic.author.loginname"></span>
            <time>ÂèëÂ∏É‰∫é:{{topic.create_at|getLastTimeStr(true)}}</time>
          </div>
          <div class="right">
            <span class="tag" :class="getTabInfo(topic.tab,topic.good,topic.top,true)" v-text="getTabInfo(topic.tab,topic.good,topic.top,false)"></span>
            <span class="name">{{topic.visit_count}}Ê¨°ÊµèËßà</span>
          </div>
        </section>
        <section class="markdown-body topic-content" v-html="topic.content">
          
        </section>
        <h3 class="topic-reply">
            <strong>{{topic.reply_count}}</strong> ÂõûÂ§ç
        </h3>
        <section class="reply-list">
          <ul>
            <li >
              <section class="user">
                <a href="/user/i5ting" class>
                  <img
                    src="https://avatars3.githubusercontent.com/u/3118295?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">i5ting</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:1Âë®Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>Êú¨Ê¨°Ê¥ªÂä®ÊÑüË∞¢talkding dataÊîØÊåÅÂú∫Âú∞</p>
                  <p>
                    <img src="//static.cnodejs.org/FpWR6OSuCx4XsE2nE8J06UVzWWP6" alt="55555.png" />
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/jothy1023" class>
                  <img
                    src="https://avatars2.githubusercontent.com/u/14975630?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">jothy1023</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:1Âë®Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>Âú®Á∫øÁªôÁãºÂèîÊâì callÔºÅÔºÅÔºÅ</p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/xx1124961758" class>
                  <img
                    src="https://avatars0.githubusercontent.com/u/13390985?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">xx1124961758</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:1Âë®Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    <a href="/user/i5ting">@i5ting</a> ÁãºÂèîÔºåÊúâÂΩïÊí≠Âêó
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/vanishcode" class>
                  <img
                    src="https://avatars0.githubusercontent.com/u/20496444?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">vanishcode</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:1Âë®Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>Â•áËàûÂõ¢Êò®Â§©Âõ¢Âª∫ÔºåË¶Å‰∏çË¥∫ËÄÅËØ¥Ë¶ÅÂéªÊù•ÁùÄü§£</p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/i5ting" class>
                  <img
                    src="https://avatars3.githubusercontent.com/u/3118295?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">i5ting</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:14Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    PPT
                    <a
                      href="https://github.com/i5ting/nodeparty-beijing-2020-1-11"
                    >https://github.com/i5ting/nodeparty-beijing-2020-1-11</a>
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/i5ting" class>
                  <img
                    src="https://avatars3.githubusercontent.com/u/3118295?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">i5ting</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:14Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    <a href="/user/vanishcode">@vanishcode</a> Âê¨haxËØ¥‰∫ÜÔºåÊÑüË∞¢ÊÑüË∞¢
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/i5ting" class>
                  <img
                    src="https://avatars3.githubusercontent.com/u/3118295?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">i5ting</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:14Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    ËÅöÈ§êÁÖßÁâá
                    <img
                      src="//static.cnodejs.org/FpZR_Fjz7xoh08h_NmyczX_wBwHK"
                      alt="mmexport1579450936429.jpg"
                    />
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/Boelroy" class>
                  <img
                    src="https://avatars0.githubusercontent.com/u/2794349?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">Boelroy</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:13Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    <a href="/user/i5ting">@i5ting</a> ‰∏∫ÁãºÂèîÊâìcall, ÁãºÂèîÊúÄÂ∏Ö
                  </p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/justjavac" class>
                  <img
                    src="https://avatars1.githubusercontent.com/u/359395?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">justjavac</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:6Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>ÁãºÂèîÊúÄÂ∏Ö</p>
                </div>
              </div>
              <!---->
            </li>
            <li>
              <section class="user">
                <a href="/user/i5ting" class>
                  <img
                    src="https://avatars3.githubusercontent.com/u/3118295?v=4&amp;s=120"
                    class="head"
                  />
                </a>
                <div class="info">
                  <span class="cl">
                    <span class="name">i5ting</span>
                    <span class="name mt10">
                      <span></span>
                      ÂèëÂ∏É‰∫é:2Â∞èÊó∂Ââç
                    </span>
                  </span>
                  <span class="cr">
                    <span class="iconfont icon">Óòà</span>
                    0
                    <span class="iconfont icon">Óòâ</span>
                  </span>
                </div>
              </section>
              <div class="reply_content">
                <div class="markdown-text">
                  <p>
                    Èù¢ÂêëBÁ´ØÂ∑•‰ΩúÂè∞ÁöÑÂæÆÂâçÁ´ØÊñπÊ°à-ConsoleOS-ÂæêÂçöÊñá
                    <a
                      href="https://edu.talkingdata.com/open-class?id=142"
                    >https://edu.talkingdata.com/open-class?id=142</a>
                  </p>
                  <p>
                    ServerlessÂú®ÁæéÂõ¢ÁöÑÂÆûË∑µ-Èæô‰Ω≥Êñá
                    <a
                      href="https://edu.talkingdata.com/open-class?id=143"
                    >https://edu.talkingdata.com/open-class?id=143</a>
                  </p>
                  <p>
                    ÂâçÁ´ØÁîüÊÄÅÂª∫ËÆæÂú®ÁìúÂ≠êÁöÑËêΩÂú∞ÂÆûË∑µ-Áéã‰∏ú
                    <a
                      href="https://edu.talkingdata.com/open-class?id=144"
                    >https://edu.talkingdata.com/open-class?id=144</a>
                  </p>
                  <p>
                    Egg-React-SSRÊ∑±Â∫¶Ëß£Êûê-Âº†ÂÆáÊòÇ
                    <a
                      href="https://edu.talkingdata.com/open-class?id=145"
                    >https://edu.talkingdata.com/open-class?id=145</a>
                  </p>
                  <p>
                    Â¶Ç‰ΩïËûçÂÖ•Âπ∂Ë¥°ÁåÆÂºÄÊ∫ê-Justjavac
                    <a
                      href="https://edu.talkingdata.com/open-class?id=146"
                    >https://edu.talkingdata.com/open-class?id=146</a>
                  </p>
                  <p>
                    ÂúÜÊ°åËÆ®ËÆ∫
                    <a
                      href="https://edu.talkingdata.com/open-class?id=147"
                    >https://edu.talkingdata.com/open-class?id=147</a>
                  </p>
                </div>
              </div>
              <!---->
            </li>
          </ul>
        </section>
      </div>
    </div>
  </div>
</template>
<script>
import nvHead from "../components/header";
import { getTopic } from "@/api/api";
import utils from '../libs/utils'
export default {
  name: "Topic",
  data() {
    return {
      showMenu: false,
      topicId: "",
      topic: {},
      noData: false
    };
  },
  beforeMount() {
    this.getData();
  },
  mounted() {
    // ÈöêËóèÂ∑¶‰æßÂ±ïÂºÄËèúÂçï
    this.showMenu = false;
  },
  methods: {
    getData() {
      // Ëé∑Âèñurl‰º†ÁöÑtabÂèÇÊï∞
      this.topicId = this.$route.params.id;
      getTopic(this.topicId).then(res => {
        console.log(res);
        if (res && res.data) {
          this.topic = res.data;
        } else {
          this.noData = true;
        }
      });
    },
    getTabInfo(tab, good = false, top, isClass) {
      return utils.getTabInfo(tab, good, top, isClass);
    },
    getLastTimeStr(time, ago) {
      return utils.getLastTimeStr(time, ago);
    }
  },
  components: {
    nvHead
  }
};
</script>
<style lang="scss">
</style>